// Generated by CoffeeScript 1.3.3
(function() {

  $(document).on("click", ".notification-item .mark-as-read, .notification-item .mark-as-unread", function() {
    var action, data_el, el, notification_id, notification_item;
    el = $(this);
    notification_item = el.closest(".notification-item");
    data_el = el.closest("[data-notification-id]");
    notification_id = data_el.data('notification-id');
    action = el.hasClass('mark-as-read') ? 1 : 0;
    return $.ajax({
      url: "/notifications/" + notification_id + "/markasread",
      type: "PUT",
      data: {
        action: action
      },
      success: function(data) {
        var new_notification_item;
        if (data.status === "success") {
          new_notification_item = $(data.html);
          return notification_item.replaceWith(new_notification_item);
        }
      }
    });
  });

}).call(this);
