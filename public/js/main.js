// Generated by CoffeeScript 1.3.3
(function(){$(document).on("click","#add-deliverable-button",function(){return $(".deliverables-row:eq(0)").clone().appendTo(".prices-table tbody").find("input").val("")});$(document).on("click",".remove-deliverable",function(){if($(".deliverables-row").length!==1)return $(this).closest(".deliverables-row").remove()});$(document).on("click",".show-dismiss-modal",function(){var e,t;e=$(this);t=$("#dismiss-modal");t.find(".company-name").text(e.data("vendor-company-name"));t.find("textarea").val("");t.find("button").button("reset");t.modal("show");t.off(".rfpez-dismiss");return t.on("click.rfpez-dismiss",".dismiss-btn",function(){$(this).button("loading");return $.ajax({url:"/contracts/"+e.data("contract-id")+"/bids/"+e.data("bid-id")+"/dismiss",data:{reason:t.find("select[name=reason]").val(),explanation:t.find("textarea[name=explanation]").val()},type:"GET",success:function(n){if(n.status==="already dismissed"||"success"){t.modal("hide");return e.data("remove-from-list")?e.closest("."+e.data("remove-from-list")).remove():window.location.reload()}}})})});$(document).on("submit","#ask-question-form",function(e){var t,n;n=$(this);t=n.find("button");t.button("loading");e.preventDefault();return $.ajax({url:"/questions",data:{contract_id:n.find("input[name=contract_id]").val(),question:n.find("textarea[name=question]").val()},type:"POST",success:function(e){t.button("reset");n.find("textarea[name=question]").val("");return e.status==="success"?$(".questions").append('<div class="question-wrapper">\n  <div class="question">'+e.question.question+'</div>\n  <div class="answer"></div>\n</div>'):alert("error!")}})});$(function(){return $("#dismiss-modal").modal({show:!1})})}).call(this);