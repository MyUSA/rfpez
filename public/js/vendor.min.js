/*! rfpez-build - v0.0.1 - 2012-11-21 */
var update_vendor_image_preview,vendor_image_keydown;update_vendor_image_preview=function(){var e,t,n,r,i;return e=$(".vendor-image-url input"),t=e.closest(".vendor-image-url").find(".vendor-image-preview-frame"),n=$(".vendor-image-preview"),i=e.val(),$("#prev-img-btn").addClass("disabled"),i===""?n.addClass("hide"):(r=t.find("img"),r.attr("src",i),n.removeClass("hide"))},vendor_image_keydown=function(){return event.which===13?(update_vendor_image_preview(),event.preventDefault(),!1):$("#prev-img-btn").removeClass("disabled")},$(document).on("blur",".vendor-image-url input",update_vendor_image_preview),$(document).on("keydown",".vendor-image-url input",vendor_image_keydown),$(document).on("ready pjax:success",function(){return update_vendor_image_preview()});var update_total_price;update_total_price=function(){var e;return e=0,$(".deliverable-price").each(function(){var t;if(t=parseFloat($(this).val()))return e+=t}),$("#total-price").html("$"+e)},$(document).on("click","#add-deliverable-button",function(){return $(".deliverables-row:eq(0)").clone().appendTo(".prices-table tbody").find("input").val("")}),$(document).on("click",".remove-deliverable",function(){return $(".deliverables-row").length===1?$(this).closest(".deliverables-row").find(":input").val(""):$(this).closest(".deliverables-row").remove(),update_total_price()}),$(document).on("input",".deliverable-price",update_total_price),$(document).on("ready pjax:success",function(){if($("#current-page").val()==="new-bid")return update_total_price()}),$(document).on("ready pjax:success",function(){var e,t,n,r;if(!Rfpez.current_page("new-bid"))return;return e=!0,r=$("#save-draft-button"),r.button("loading"),t=function(){return e=!1,r.button("reset")},n=function(){var t;if(e===!0)return;return t=$(".new-bid-form"),t.find("input[name=submit_now]").val("false"),t.ajaxSubmit(),t.find("input[name=submit_now]").val("true"),e=!0,r.button("loading")},$("#save-draft-button").on("click",n),$(".new-bid-form :input").on("input",t),$("#add-deliverable-button, .remove-deliverable").on("click",t),window.setInterval(n,5e3)});